<!DOCTYPE html>
<html lang="en">

<head>
    <title>Checklist - Abastecimento</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_red.css">
    <style>
        #preview {
            display: none;
            max-width: 300px;
            margin-top: 10px;
            border: 1px solid #ccc;
            padding: 5px;
        }
    </style>

</head>

<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-900 text-white">



            <nav class="mt-5 px-2">
                <!-- Main Navigation -->
                <div class="space-y-4">
                    <!-- Dashboard -->
                    <a href="/date"
                        class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg bg-gray-800 text-white group transition-all duration-200 hover:bg-gray-700">
                        <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                        </svg>
                        Checklist
                    </a>

                    <!-- Analytics Dropdown -->
                    <div class="space-y-1">
                        <button
                            class="w-full flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white focus:outline-none"
                            aria-expanded="true" aria-controls="analytics-dropdown">
                            <div class="flex items-center">
                                <svg class="ml-2 h-5 w-5 mr-3 transform transition-transform duration-200"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clip-rule="evenodd"></path>
                                </svg>

                                Perfil
                            </div>
                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke-width="1.5" stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                            </svg>
                        </button>
                        <div class="space-y-1 pl-11" id="analytics-dropdown">
                            <a href="#"
                                class="group flex items-center px-4 py-2 text-sm text-gray-300 rounded-md hover:bg-gray-700 hover:text-white">
                                Visualizar
                            </a>
                            <a href="#"
                                class="group flex items-center px-4 py-2 text-sm text-gray-300 rounded-md hover:bg-gray-700 hover:text-white">
                                Alterar Senha
                            </a>
                        </div>
                    </div>


                    <!-- Team Dropdown -->
                    <div class="space-y-1">
                        <button
                            class="w-full flex items-center justify-between px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white focus:outline-none"
                            aria-expanded="false" aria-controls="team-dropdown">
                            <div class="flex items-center">
                                <svg class="ml-2 h-5 w-5 mr-3 transform transition-transform duration-200"
                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                        clip-rule="evenodd"></path>
                                </svg>


                                Motorista
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                                stroke="currentColor" class="size-6">
                                <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
                            </svg>


                        </button>
                        <div class="hidden space-y-1 pl-11" id="team-dropdown">
                            <a href="#"
                                class="group flex items-center px-4 py-2 text-sm text-gray-300 rounded-md hover:bg-gray-700 hover:text-white">
                                Cadastrar Motorista
                            </a>
                            <a href="#"
                                class="group flex items-center px-4 py-2 text-sm text-gray-300 rounded-md hover:bg-gray-700 hover:text-white">
                                Visualizar Motorista
                            </a>
                        </div>
                    </div>
                    <a href="#"
                        class="flex items-center px-4 py-2.5 text-sm font-medium rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white group transition-all duration-200">
                        <svg class="h-5 w-5 mr-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="1.5" stroke="currentColor" class="size-6">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" />
                        </svg>

                        Cadastrar Veículo
                    </a>
            </nav>
            <a href="/date"
                class=" mt-3 flex items-center px-4 py-2.5 text-sm font-medium rounded-lg bg-gray-800 text-white group transition-all duration-200 hover:bg-gray-700">
                <svg class="h-5 w-5 mr-3 " xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15" />
                </svg>

                Sair
            </a>

        </aside>


        <main class="flex-1 p-6">
            <h1 class="text-2xl font-semibold text-gray-900">Cadastrar Motorista</h1>
            <div class="mt-4 p-6 bg-white rounded-lg shadow-md">

                <!-- ÚNICO FORMULÁRIO -->
                <form id="cadastroMotorista" action="/cad-motorista" method="post" class="space-y-4">

                    <h2 class="text-xl font-semibold mb-4">Dados pessoais: <small
                            class="text-xs text-gray-600">(opcional)</small></h2>


                    <input type="file" id="imageInput" name="fotoPerfil" accept="image/*" onchange="previewImage(event)"
                        class="w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500">
                    <img id="preview" alt="Pré‑visualização da imagem">
                    <input type="submit" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700" />
                </form>
                <!-- 
                    <h2 class="text-xl font-semibold mb-4">Dados pessoais:</h2>
                    <input type="text" id="nome" name="nome" placeholder="Nome Completo (obrigatório)"
                        class="maisculo w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500"
                        maxlength="50" required>
                    <p id="erroNome" class="text-red-500 text-sm mt-2 hidden">
                        O Nome Completo é obrigatório.
                    </p>

                    <input type="text" id="cnh" name="cnh" placeholder="CNH (obrigatório)"
                        class="maisculo w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500"
                        maxlength="20" required>
                    <p id="erroCNH" class="text-red-500 text-sm mt-2 hidden">
                        O número de CNH é obrigatório.
                    </p>

                    <input type="tel" id="celular" name="celular" placeholder="Celular (opcional)"
                        onkeyup="handlePhone(event)"
                        class="maisculo w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500"
                        maxlength="15" required>


                    <h2 class="text-xl font-semibold mb-4 mt-6">Login e Senha:</h2>
                    <input type="email" id="email" name="email" placeholder="E-mail:"
                        class="w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500" maxlength="50"
                        minlength="6" required>
                    <p id="erroEmail" class="text-red-500 text-sm mt-2 hidden">
                        O E-mail é obrigatório e deve ser válido.
                    </p>

                    <input type="password" id="senha" name="senha" placeholder="Senha:"
                        class="w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500" maxlength="18"
                        minlength="6" required>
                    <p id="erroSenha" class="text-red-500 text-sm mt-2 hidden">
                        A senha é obrigatória.
                    </p>

                    <input type="password" id="confirmaSenha" name="confirmaSenha" placeholder="Confirme a Senha:"
                        class="w-full border border-gray-300 rounded-lg p-3 focus:outline-blue-500" maxlength="18"
                        minlength="6" required>
                    <p id="erroConfirmaSenha" class="text-red-500 text-sm mt-2 hidden">
                        As senhas não conferem.
                    </p> -->

                <!-- Botão de envio -->
                <!-- <div class="flex justify-end mt-8">
                 
                    </div>

                </form> -->

            </div>
        </main>
    </div>
    <!-- <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Preview de imagem
            window.previewImage = (event) => {
                const input = event.target;
                const file = input.files[0];
                const img = document.getElementById('preview');

                if (file && file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = e => {
                        img.src = e.target.result;
                        img.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                } else {
                    img.style.display = 'none';
                }
            };

            // Máscara de telefone (10 ou 11 dígitos)
            window.handlePhone = (event) => {
                let value = event.target.value.replace(/\D/g, '');
                if (value.length > 11) value = value.slice(0, 11);

                if (value.length >= 2) {
                    value = `(${value.slice(0, 2)}) ${value.slice(2)}`;
                }
                const digitsOnly = value.replace(/\D/g, '');
                if (digitsOnly.length === 11) {
                    value = value.replace(/(\(\d{2}\)\s)(\d{5})(\d{1,4})/, '$1$2-$3');
                } else {
                    value = value.replace(/(\(\d{2}\)\s)(\d{4})(\d{1,4})/, '$1$2-$3');
                }
                event.target.value = value;
            };


            const form = document.getElementById('cadastroMotorista');
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                let isValid = true;


                document.querySelectorAll('.text-red-500').forEach(el => el.classList.add('hidden'));


                if (!form.nome.value.trim()) {
                    document.getElementById('erroNome').classList.remove('hidden');
                    isValid = false;
                }

                if (!form.cnh.value.trim()) {
                    document.getElementById('erroCNH').classList.remove('hidden');
                    isValid = false;
                }

                const email = form.email.value;
                const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailPattern.test(email)) {
                    document.getElementById('erroEmail').classList.remove('hidden');
                    isValid = false;
                }

                if (!form.senha.value) {
                    document.getElementById('erroSenha').classList.remove('hidden');
                    isValid = false;
                }

                if (form.senha.value !== form.confirmaSenha.value) {
                    document.getElementById('erroConfirmaSenha').classList.remove('hidden');
                    isValid = false;
                }

                if (isValid) {
                    form.submit();
                }
            });
        });
    </script>
    <script>
        function previewImage(event) {
            const input = event.target;
            const file = input.files[0];

            if (!file) return;


            if (!file.type.startsWith('image/')) {
                alert('Por favor selecione um arquivo de imagem.');
                input.value = '';
                document.getElementById('preview').style.display = 'none';
                return;
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                const img = document.getElementById('preview');
                img.src = e.target.result;
                img.style.display = 'block';
            };
            reader.readAsDataURL(file);
        }
    </script>
    <script>
        const handlePhone = (event) => {
            let input = event.target;
            input.value = phoneMask(input.value);
        }

        const phoneMask = (value) => {
            if (!value) return "";

            let digits = value.replace(/\D/g, "");

            if (digits.length > 11) {
                digits = digits.slice(0, 11);
            }

            if (digits.length >= 2) {
                digits = `(${digits.slice(0, 2)}) ${digits.slice(2)}`;
            }

            const patternMobile = /(\(\d{2}\)\s)(\d{5})(\d{1,4})/;
            const patternLand = /(\(\d{2}\)\s)(\d{4})(\d{1,4})/;

            if (digits.replace(/\D/g, "").length === 11) {
                // móvel: (XX) 9XXXX-XXXX
                digits = digits.replace(patternMobile, "$1$2-$3");
            } else {
                // fixo: (XX) XXXX-XXXX
                digits = digits.replace(patternLand, "$1$2-$3");
            }

            return digits;
        }
    </script>
    <script>
        const maiusculo = document.querySelectorAll('.maisculo');
        maiusculo.forEach(function (elemento) {
            elemento.addEventListener('input', function () {
                this.value = this.value.toUpperCase();
            });
        });
    </script>
    <script>

        document.querySelectorAll('button[aria-controls]').forEach(button => {
            button.addEventListener('click', () => {
                const isExpanded = button.getAttribute('aria-expanded') === 'true';
                const dropdownContent = document.getElementById(button.getAttribute('aria-controls'));

                button.setAttribute('aria-expanded', !isExpanded);
                dropdownContent.classList.toggle('hidden');
                button.querySelector('svg:last-child').classList.toggle('rotate-180');
            });
        });
    </script> -->
</body>

</html>